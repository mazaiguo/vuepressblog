---
navbar:true
sidebar:true
---
# 为什么要封装组件？



### 先说说封装的优点有哪些？

1. 良好的封装能够减少耦合。
2. 类内部的结构可以自由修改。
3. 可以对成员变量进行更精确的控制。
4. 隐藏信息，实现细节。



### 举个例子

用大白话来说吧，拿P24_svg封装为例。

如果不封装的话，我在另外一处也需要svg展示，把这一组代码复制粘贴。

```vue
<svg :style="{ width: width, height: height }">
	<use :xlink:href="prefix + name" :fill="color"></use>
</svg>
```

只修改了`长、宽、颜色、图标名`等属性，如果还有数十个地方都要用这个功能，然后再复制粘，是不是看着项目就觉得这么一大坨，似曾相识，项目相当臃肿。



### 如何封装

还是以刚刚的代码为例。

```vue
<svg style="{ width: 100px, height: 30px }">
	<use xlink:href="computer" fill="red"></use>
</svg>
```

如果多次使用这个功能时，你就要分析哪些地方是变化的？

如：长宽，颜色，图标名称。

分析完成后，就把这些`变化的地方`定义变量，然后再`定义方法`,把这些变量传入进去就ok。

如下代码，需要传值的为：`width、height、name、color`，就把这些提取出来。

```vue
<template>
  <div>
    <svg :style="{ width: width, height: height }">
      <use :xlink:href="prefix + name" :fill="color"></use>
    </svg>
  </div>
</template>

<script lang="ts" setup>
    
//接受父组件的传值
defineProps({
  prefix: {
    type: String,
    default: '#icon-',
  },
  name: String,
  color: {
    type: String,
    default: '',
  },
  width: {
    type: String,
    default: '16px',
  },
  height: {
    type: String,
    default: '16px',
  },
})
</script>

<style scoped></style>

```



等需要引用该功能时，传入这些数据就行。

```vue
 import Svg... from '...' 

<svg-icon name="computer" color="blue" width="100px" height="50px"></svg-icon>
```

